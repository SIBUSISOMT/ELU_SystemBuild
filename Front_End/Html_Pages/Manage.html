<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/Front_End/CSS_Pages/WaterAllocations.css">
    <link rel="stylesheet" href="/Front_End/CSS_Pages/Dashboard.css">
    <link rel="icon" href="/Front_End/img/inkomati_logo-removebg-preview.png" type="image/x-icon">
    <title>Water Allocations</title>
    <style>
        .toolbar {
            display: flex;
            gap: 1rem;
            padding: 1rem;
            background-color: #f2f2f2;
            border-radius: 5px;
            margin-bottom: 1rem;
        }

        .register-btn {
            padding: 0.5rem 1rem;
            background-color: #3C91E6;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .register-btn:hover {
            background-color: #2d7abc;
        }

        .ownership-select {
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 5px;
            min-width: 200px;
        }

        .form-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .edit-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.5rem;
            color: #3C91E6;
        }

        .edit-btn:hover {
            color: #2d7abc;
        }

        input[readonly] {
            background-color: #f5f5f5;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <section id="content">
        <nav>
            <i class='bx bx-menu'></i>
            <a href="#" class="nav-link">Categories</a>
            <form action="#">
                <div class="form-input">
                    <input type="search" placeholder="Search...">
                    <button type="submit" class="search-btn"><i class='bx bx-search'></i></button>
                </div>
            </form>
            <a href="#" class="notification"><i class='bx bxs-bell'></i></a>
            <a href="#" class="profile"><img src="/Front_End/img/profile.png" alt="Profile"></a>
        </nav>

        <main>
            <div class="toolbar">
                <button class="register-btn">Register Water User</button>
                <div class="dropdown">
                    <select class="ownership-select">
                        <option value="" disabled selected>Select Ownership Type</option>
                        <option value="individual">Individual</option>
                        <option value="group">Group</option>
                        <option value="entity">Entity/Enterprise</option>
                    </select>
                </div>
            </div>

            <div class="head-title">
                <div class="left">
                    <h1>Water User Registration/ Allocation</h1>
                    <ul class="breadcrumb">
                        <li><a href="#">Dashboard</a></li>
                        <li><i class='bx bx-chevron-right'></i></li>
                        <li><a class="active" href="#">Water Users</a></li>
                    </ul>
                </div>
            </div>

            <!-- Storage of Water Form -->
            <div class="form-container">
                <div class="form-header">
                    <h2 class="section-title">Storage of Water</h2>
                    <button type="button" class="edit-btn" onclick="toggleEdit('storageForm')">
                        <i class='bx bx-edit'></i>
                    </button>
                </div>
                <form id="storageForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Property Reference</label>
                            <input type="text" name="Property_Reference" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>WARMS Registered Water Course (m³)</label>
                            <input type="number" step="0.01" name="Storage_WARMS_Registered_Water_Course">
                        </div>
                        <div class="form-group">
                            <label>WARMS Number of Dams</label>
                            <input type="number" name="Storage_WARMS_Registered_Number_ofDams">
                        </div>
                        <div class="form-group">
                            <label>WARMS Registered Volume (m³)</label>
                            <input type="number" step="0.01" name="Storage_WARMS_Registered_Volume">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>ELU Registered Water Course (m³)</label>
                            <input type="number" step="0.01" name="Storage_ELU_Registered_Water_Course">
                        </div>
                        <div class="form-group">
                            <label>ELU Number of Dams</label>
                            <input type="number" name="Storage_ELU_Registered_Number_ofDams">
                        </div>
                        <div class="form-group">
                            <label>Storage Existing Lawful Volume (m³)</label>
                            <input type="number" step="0.01" name="Storage_Existing_Lawful_Volume">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Qualifying Period Total Storage (m³)</label>
                            <input type="number" step="0.01" name="Storage_Qualifying_Period_Total_Storage_in_m3">
                        </div>
                    </div>
                    <button type="submit" class="submit-btn">Save</button>
                </form>
            </div>

            <!-- Abstraction of Water Form -->
            <div class="form-container">
                <div class="form-header">
                    <h2 class="section-title">Abstraction of Water</h2>
                    <button type="button" class="edit-btn" onclick="toggleEdit('abstractionForm')">
                        <i class='bx bx-edit'></i>
                    </button>
                </div>
                <form id="abstractionForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Property Reference</label>
                            <input type="text" name="property_reference" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Non-Irrigation ELU Abstraction Period Source</label>
                            <input type="text" name="Non_Irrigation_ELU_Abstraction_Period_Source">
                        </div>
                        <div class="form-group">
                            <label>Non-Irrigation WARMS Abstraction Period Source</label>
                            <input type="text" name="Non_Irrigation_WARMS_Abstraction_Period_Source">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Non-Irrigation ELU Abstraction Lawful Volume (m³)</label>
                            <input type="number" step="0.01" name="Non_Irrigation_ELU_Abstraction_Lawful_Volume">
                        </div>
                        <div class="form-group">
                            <label>Non-Irrigation WARMS Abstraction Lawful Volume (m³)</label>
                            <input type="number" step="0.01" name="Non_Irrigation_WARMS_Abstraction_Lawful_Volume">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Non-Irrigation ELU River Abstraction</label>
                            <input type="text" name="Non_Irrigation_ELU_River_Abstraction">
                        </div>
                        <div class="form-group">
                            <label>Non-Irrigation WARMS River Abstraction</label>
                            <input type="text" name="Non_Irrigation_WARMS_River_Abstraction">
                        </div>
                    </div>
                    <button type="submit" class="submit-btn">Save</button>
                </form>
            </div>

            <!-- Irrigation Form -->
            <div class="form-container">
                <div class="form-header">
                    <h2 class="section-title">Irrigation</h2>
                    <button type="button" class="edit-btn" onclick="toggleEdit('irrigationForm')">
                        <i class='bx bx-edit'></i>
                    </button>
                </div>
                <form id="irrigationForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Property Reference</label>
                            <input type="text" name="property_reference" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>ELU Volume From Source Dam (m³)</label>
                            <input type="number" step="0.01" name="Irrigation_ELU_Volume_From_Source_Dam">
                        </div>
                        <div class="form-group">
                            <label>WARMS Volume From Source Dam (m³)</label>
                            <input type="number" step="0.01" name="Irrigation_WARMS_Volume_From_Source_Dam">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>ELU Volume From Source Borehole (m³)</label>
                            <input type="number" step="0.01" name="Irrigation_ELU_Volume_From_Source_Borehole">
                        </div>
                        <div class="form-group">
                            <label>WARMS Registered Water (m³)</label>
                            <input type="number" step="0.01" name="Irrigation_WARMS_Registered_Water">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>ELU Volume From Source Spring (m³)</label>
                            <input type="number" step="0.01" name="Irrigation_ELU_Volume_From_Source_Spring">
                        </div>
                        <div class="form-group">
                            <label>WARMS Volume From WEIR (m³)</label>
                            <input type="number" step="0.01" name="Irrigation_WARMS_Volume_From_WEIR">
                        </div>
                    </div>
                    <button type="submit" class="submit-btn">Save</button>
                </form>
            </div>

            <!-- SFRA Form -->
            <div class="form-container">
                <div class="form-header">
                    <h2 class="section-title">SFRA</h2>
                    <button type="button" class="edit-btn" onclick="toggleEdit('sfraForm')">
                        <i class='bx bx-edit'></i>
                    </button>
                </div>
                <form id="sfraForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Property Reference</label>
                            <input type="text" name="property_reference" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>WARMS Registered Hectares</label>
                            <input type="number" step="0.01" name="SFRA_WARMS_Registered_Hectares">
                        </div>
                        <div class="form-group">
                            <label>WARMS Registered Volume (m³)</label>
                            <input type="number" step="0.01" name="SFRA_WARMS_Registered_Volume">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Existing Lawful Use Volume (m³)</label>
                            <input type="number" step="0.01" name="SFRA_Existing_Lawful_Use_Volume">
                        </div>
                        <div class="form-group">
                            <label>Existing Lawful Use Hectares</label>
                            <input type="number" step="0.01" name="SFRA_Existing_Lawful_Use_Hectares">
                        </div>
                    </div>
                    <button type="submit" class="submit-btn">Save</button>
                </form>
            </div>

            <!-- Tables -->
            <h2 class="section-title">Storage of Water Records</h2>
            <div class="table-container">
                <table id="storageTable">
                    <thead>
                        <tr>
                            <th>Property Reference</th>
                            <th>WARMS Water Course (m³)</th>
                            <th>WARMS Registered Number of Dams</th>
                            <th>WARMS Registered Volume (m³)</th>
                            <th>ELU Registered Water Course (m³)</th>
                            <th>ELU Registered Number of Dams</th>
                            <th>Existing Lawful Volume (m³)</th>
                            <th>Qualifying Period Total Storage (m³)</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <h2 class="section-title">Abstraction Records</h2>
            <div class="table-container">
                <table id="abstractionTable">
                    <thead>
                        <tr>
                            <th>Property Reference</th>
                            <th>ELU Abstruction Period Source</th>
                            <th>WARMS Abstruction Period Source</th>
                            <th>ELU Volume (m³)</th>
                            <th>WARMS Volume (m³)</th>
                            <th>ELU River Abstraction</th>
                            <th>WARMS River Abstraction</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <h2 class="section-title">Irrigation Records</h2>
            <div class="table-container">
                <table id="irrigationTable">
                    <thead>
                        <tr>
                            <th>Property Reference</th>
                            <th>ELU Volume Dam (m³)</th>
                            <th>WARMS Volume Dam (m³)</th>
                            <th>ELU Volume Borehole (m³)</th>
                            <th>WARMS Registered Water (m³)</th>
                            <th>ELU Volume Spring (m³)</th>
                            <th>WARMS Volume WEIR (m³)</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <h2 class="section-title">SFRA Records</h2>
            <div class="table-container">
                <table id="sfraTable">
                    <thead>
                        <tr>
                            <th>Property Reference</th>
                            <th>WARMS Registered Hectares</th>
                            <th>WARMS Registered Volume</th>
                            <th>Existing Lawful Use Volume</th>
                            <th>Existing Lawful Use Hectares</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </main>
    </section>

    <script>
        window.onload = function() {
            const forms = ['storageForm', 'abstractionForm', 'irrigationForm', 'sfraForm'];
            forms.forEach(formId => {
                const form = document.getElementById(formId);
                const inputs = form.getElementsByTagName('input');
                for(let input of inputs) {
                    input.readOnly = true;
                }
            });
        }

        function toggleEdit(formId) {
            const form = document.getElementById(formId);
            const inputs = form.getElementsByTagName('input');
            const editBtn = form.parentElement.querySelector('.edit-btn i');
            
            const isReadonly = inputs[0].readOnly;
            
            for(let input of inputs) {
                input.readOnly = !isReadonly;
            }
            
            editBtn.className = isReadonly ? 'bx bx-save' : 'bx bx-edit';
        }
    </script>
</body>
</html>